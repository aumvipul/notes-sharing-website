<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notes Sharing Platform</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<script>
function toggleDarkMode() {
    document.body.classList.toggle("dark-mode");

    // save preference
    if (document.body.classList.contains("dark-mode")) {
        localStorage.setItem("theme", "dark");
    } else {
        localStorage.setItem("theme", "light");
    }
}

// load saved theme on page open
window.onload = function () {
    if (localStorage.getItem("theme") === "dark") {
        document.body.classList.add("dark-mode");
    }
};
</script>

<body>

<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
    <div class="container">

        <a class="navbar-brand fw-bold text-primary" href="/">NotesShare</a>

        <!-- Mobile toggle -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
            <div class="ms-auto d-flex gap-2 mt-3 mt-lg-0">

                {% if session.get("user_id") %}
                    <a href="/notes" class="btn btn-outline-success">Browse</a>
                    <a href="/dashboard" class="btn btn-outline-primary">Dashboard</a>

                    <!-- Dark mode -->
                    <button onclick="toggleDarkMode()" class="btn btn-outline-secondary">üåô</button>

                    <a href="/logout" class="btn btn-danger">Logout</a>
                {% else %}
                    <a href="/login" class="btn btn-outline-primary">Login</a>
                    <a href="/register" class="btn btn-primary">Register</a>
                {% endif %}

            </div>
        </div>
    </div>
</nav>

<!-- Page Content -->
{% block content %}{% endblock %}

{% if session.get("user_id") %}
<nav class="mobile-nav d-lg-none">
    <a href="/notes">üìö<br>Notes</a>
    <a href="/upload">‚¨Ü<br>Upload</a>
    <a href="/dashboard">üè†<br>Home</a>
    <a href="/my-notes">üë§<br>My</a>
</nav>
{% endif %}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>


</body>
</html>
